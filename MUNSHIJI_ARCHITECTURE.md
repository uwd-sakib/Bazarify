# MunshiJi Architecture Diagram

## System Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      USER INTERFACE                         â”‚
â”‚                   (AIAssistant.jsx)                         â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  à¦®à§à¦¨à§à¦¸à¦¿à¦œà¦¿ à¦šà§à¦¯à¦¾à¦Ÿ                                  â”‚      â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚      â”‚
â”‚  â”‚  â”‚ User: "à¦†à¦®à¦¾à¦° à¦¬à§à¦¯à¦¬à¦¸à¦¾à¦° à¦¬à¦¿à¦¶à§à¦²à§‡à¦·à¦£ à¦¦à¦¿à¦¨"    â”‚      â”‚      â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚      â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚      â”‚
â”‚  â”‚  â”‚ ðŸ¤– MunshiJi: "à¦†à¦ªà¦¨à¦¾à¦° à¦¬à§à¦¯à¦¬à¦¸à¦¾à¦¯à¦¼à§‡..."     â”‚      â”‚      â”‚
â”‚  â”‚  â”‚ [ðŸ“Š à¦¬à§à¦¯à¦¬à¦¸à¦¾ à¦¬à¦¿à¦¶à§à¦²à§‡à¦·à¦£] [ðŸ“ˆ à¦¬à¦¿à¦•à§à¦°à¦¯à¦¼ à¦Ÿà§à¦°à§‡à¦¨à§à¦¡]â”‚   â”‚      â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚ aiService.munshiJi(message, history)
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      FRONTEND API                           â”‚
â”‚                   (services/index.js)                       â”‚
â”‚                                                             â”‚
â”‚  POST /api/ai/munshiji                                      â”‚
â”‚  {                                                          â”‚
â”‚    message: "...",                                          â”‚
â”‚    conversationHistory: [...]                               â”‚
â”‚  }                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚ HTTP Request
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BACKEND ROUTER                           â”‚
â”‚                  (routes/aiRoutes.js)                       â”‚
â”‚                                                             â”‚
â”‚  router.post('/munshiji', munshiJi)                         â”‚
â”‚  [protect, isMerchant middleware]                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   CONTROLLER LAYER                          â”‚
â”‚              (controllers/aiController.js)                  â”‚
â”‚                                                             â”‚
â”‚  export const munshiJi = async (req, res) => {              â”‚
â”‚    // 1. Fetch business context                             â”‚
â”‚    const [products, orders] = await Promise.all([...])      â”‚
â”‚                                                             â”‚
â”‚    // 2. Prepare stats                                      â”‚
â”‚    const availableTools = { products, orders, stats }       â”‚
â”‚                                                             â”‚
â”‚    // 3. Call AI service                                    â”‚
â”‚    const result = await aiService.munshiJi(...)             â”‚
â”‚                                                             â”‚
â”‚    // 4. Return response + tools used                       â”‚
â”‚    res.json({ response, toolsUsed })                        â”‚
â”‚  }                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AI SERVICE LAYER                         â”‚
â”‚                (services/aiService.js)                      â”‚
â”‚                                                             â”‚
â”‚  munshiJi: async (message, history, tools) => {             â”‚
â”‚    // Define available tools/functions                      â”‚
â”‚    const tools = [                                          â”‚
â”‚      { name: 'generate_product_description', ... },         â”‚
â”‚      { name: 'get_business_insights', ... },                â”‚
â”‚      { name: 'generate_customer_message', ... },            â”‚
â”‚      { name: 'analyze_sales_trend', ... },                  â”‚
â”‚      { name: 'get_inventory_advice', ... },                 â”‚
â”‚      { name: 'generate_order_report', ... }                 â”‚
â”‚    ]                                                        â”‚
â”‚                                                             â”‚
â”‚    // System message (Bangla instructions)                  â”‚
â”‚    const systemMessage = {                                  â”‚
â”‚      role: 'system',                                        â”‚
â”‚      content: 'à¦†à¦ªà¦¨à¦¿ "à¦®à§à¦¨à§à¦¸à¦¿à¦œà¦¿"...'                          â”‚
â”‚    }                                                        â”‚
â”‚                                                             â”‚
â”‚    // First API call with function calling                  â”‚
â”‚    const completion = await openRouter.chat.send({          â”‚
â”‚      model: 'gpt-4-turbo',                                  â”‚
â”‚      messages: [system, ...history, user],                  â”‚
â”‚      tools: tools,                                          â”‚
â”‚      tool_choice: 'auto'                                    â”‚
â”‚    })                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   OPENROUTER API                            â”‚
â”‚                 (openai/gpt-4-turbo)                        â”‚
â”‚                                                             â”‚
â”‚  Analyzes user query and decides which tools to use         â”‚
â”‚                                                             â”‚
â”‚  Returns: {                                                 â”‚
â”‚    message: "...",                                          â”‚
â”‚    tool_calls: [                                            â”‚
â”‚      {                                                      â”‚
â”‚        function: {                                          â”‚
â”‚          name: 'get_business_insights',                     â”‚
â”‚          arguments: '{"stats": {...}}'                      â”‚
â”‚        }                                                    â”‚
â”‚      },                                                     â”‚
â”‚      {                                                      â”‚
â”‚        function: {                                          â”‚
â”‚          name: 'analyze_sales_trend',                       â”‚
â”‚          arguments: '{"salesData": [...]}'                  â”‚
â”‚        }                                                    â”‚
â”‚      }                                                      â”‚
â”‚    ]                                                        â”‚
â”‚  }                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   TOOL EXECUTION                            â”‚
â”‚                (services/aiService.js)                      â”‚
â”‚                                                             â”‚
â”‚  for (const toolCall of tool_calls) {                       â”‚
â”‚    switch (toolCall.function.name) {                        â”‚
â”‚      case 'generate_product_description':                   â”‚
â”‚        result = await generateProductDescription(...)       â”‚
â”‚        break                                                â”‚
â”‚                                                             â”‚
â”‚      case 'get_business_insights':                          â”‚
â”‚        result = await generateBusinessInsights(...)         â”‚
â”‚        break                                                â”‚
â”‚                                                             â”‚
â”‚      case 'analyze_sales_trend':                            â”‚
â”‚        result = await analyzeSalesTrend(...)                â”‚
â”‚        break                                                â”‚
â”‚                                                             â”‚
â”‚      // ... other tools                                     â”‚
â”‚    }                                                        â”‚
â”‚                                                             â”‚
â”‚    toolResults.push({                                       â”‚
â”‚      tool_call_id: toolCall.id,                             â”‚
â”‚      role: 'tool',                                          â”‚
â”‚      content: result                                        â”‚
â”‚    })                                                       â”‚
â”‚  }                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              FINAL RESPONSE GENERATION                      â”‚
â”‚                (services/aiService.js)                      â”‚
â”‚                                                             â”‚
â”‚  // Second API call with tool results                       â”‚
â”‚  const finalCompletion = await openRouter.chat.send({       â”‚
â”‚    model: 'gpt-4-turbo',                                    â”‚
â”‚    messages: [                                              â”‚
â”‚      systemMessage,                                         â”‚
â”‚      ...conversationHistory,                                â”‚
â”‚      userMessage,                                           â”‚
â”‚      assistantMessageWithToolCalls,                         â”‚
â”‚      ...toolResults  // Tool execution results              â”‚
â”‚    ]                                                        â”‚
â”‚  })                                                         â”‚
â”‚                                                             â”‚
â”‚  return {                                                   â”‚
â”‚    response: finalCompletion.content,  // Bangla response   â”‚
â”‚    toolsUsed: ['get_business_insights', 'analyze_sales_trend']â”‚
â”‚  }                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚ Response flows back up
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  DISPLAY TO USER                            â”‚
â”‚                                                             â”‚
â”‚  ðŸ¤– à¦®à§à¦¨à§à¦¸à¦¿à¦œà¦¿: "à¦†à¦ªà¦¨à¦¾à¦° à¦¬à§à¦¯à¦¬à¦¸à¦¾à¦¯à¦¼à§‡ à¦—à¦¤ à¦¸à¦ªà§à¦¤à¦¾à¦¹à§‡ à§³à§«à§¦,à§¦à§¦à§¦      â”‚
â”‚  à¦¬à¦¿à¦•à§à¦°à¦¯à¦¼ à¦¹à¦¯à¦¼à§‡à¦›à§‡ à¦¯à¦¾ à¦†à¦—à§‡à¦° à¦¸à¦ªà§à¦¤à¦¾à¦¹à§‡à¦° à¦šà§‡à¦¯à¦¼à§‡ à§§à§«% à¦¬à§‡à¦¶à¦¿à¥¤         â”‚
â”‚  à¦¬à¦¿à¦•à§à¦°à¦¯à¦¼ à¦ªà§à¦°à¦¬à¦£à¦¤à¦¾ à¦‡à¦¤à¦¿à¦¬à¦¾à¦šà¦• à¦à¦¬à¦‚ à¦ªà¦°à¦¬à¦°à§à¦¤à§€ à¦¸à¦ªà§à¦¤à¦¾à¦¹à§‡ à¦†à¦°à¦“         â”‚
â”‚  à¦¬à§ƒà¦¦à§à¦§à¦¿à¦° à¦¸à¦®à§à¦­à¦¾à¦¬à¦¨à¦¾ à¦°à¦¯à¦¼à§‡à¦›à§‡..."                               â”‚
â”‚                                                             â”‚
â”‚  [ðŸ“Š à¦¬à§à¦¯à¦¬à¦¸à¦¾ à¦¬à¦¿à¦¶à§à¦²à§‡à¦·à¦£] [ðŸ“ˆ à¦¬à¦¿à¦•à§à¦°à¦¯à¦¼ à¦Ÿà§à¦°à§‡à¦¨à§à¦¡]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Component Interaction Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend   â”‚         â”‚   Backend    â”‚         â”‚  OpenRouter  â”‚
â”‚              â”‚         â”‚              â”‚         â”‚      AI      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                        â”‚                        â”‚
       â”‚ 1. User sends query    â”‚                        â”‚
       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>                        â”‚
       â”‚                        â”‚                        â”‚
       â”‚                        â”‚ 2. Prepare context     â”‚
       â”‚                        â”‚    (fetch products,    â”‚
       â”‚                        â”‚     orders, stats)     â”‚
       â”‚                        â”‚                        â”‚
       â”‚                        â”‚ 3. Call AI with tools  â”‚
       â”‚                        â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
       â”‚                        â”‚                        â”‚
       â”‚                        â”‚                        â”‚ 4. Analyze
       â”‚                        â”‚                        â”‚    & select
       â”‚                        â”‚                        â”‚    tools
       â”‚                        â”‚                        â”‚
       â”‚                        â”‚ 5. Return tool calls   â”‚
       â”‚                        â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                        â”‚                        â”‚
       â”‚                        â”‚ 6. Execute tools       â”‚
       â”‚                        â”‚    (call existing AI   â”‚
       â”‚                        â”‚     functions)         â”‚
       â”‚                        â”‚                        â”‚
       â”‚                        â”‚ 7. Send tool results   â”‚
       â”‚                        â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
       â”‚                        â”‚                        â”‚
       â”‚                        â”‚                        â”‚ 8. Generate
       â”‚                        â”‚                        â”‚    final
       â”‚                        â”‚                        â”‚    response
       â”‚                        â”‚                        â”‚    (Bangla)
       â”‚                        â”‚                        â”‚
       â”‚                        â”‚ 9. Return response     â”‚
       â”‚                        â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
       â”‚                        â”‚                        â”‚
       â”‚ 10. Send to frontend   â”‚                        â”‚
       â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                        â”‚
       â”‚                        â”‚                        â”‚
       â”‚ 11. Display with badgesâ”‚                        â”‚
       â”‚                        â”‚                        â”‚
       â–¼                        â–¼                        â–¼
```

## Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User Query  â”‚ "à¦†à¦®à¦¾à¦° à¦¬à§à¦¯à¦¬à¦¸à¦¾à¦° à¦¬à¦¿à¦¶à§à¦²à§‡à¦·à¦£ à¦¦à¦¿à¦¨"
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Business Context        â”‚
â”‚ - Products: [...]       â”‚
â”‚ - Orders: [...]         â”‚
â”‚ - Stats: {...}          â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AI Decision Engine      â”‚
â”‚ (Function Calling)      â”‚
â”‚                         â”‚
â”‚ Selects:                â”‚
â”‚ âœ“ get_business_insights â”‚
â”‚ âœ“ analyze_sales_trend   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Tool Execution          â”‚
â”‚                         â”‚
â”‚ Tool 1 Result:          â”‚
â”‚ "à¦¬à§à¦¯à¦¬à¦¸à¦¾ à¦­à¦¾à¦²à§‹ à¦šà¦²à¦›à§‡..."  â”‚
â”‚                         â”‚
â”‚ Tool 2 Result:          â”‚
â”‚ "à¦¬à¦¿à¦•à§à¦°à¦¯à¦¼ à¦¬à§ƒà¦¦à§à¦§à¦¿..."     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AI Response Generation  â”‚
â”‚ (Combines tool results) â”‚
â”‚                         â”‚
â”‚ Output: Comprehensive   â”‚
â”‚ Bangla response         â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ User sees:              â”‚
â”‚ - Response text         â”‚
â”‚ - Tool badges           â”‚
â”‚   [ðŸ“Š][ðŸ“ˆ]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Existing Features as Tools

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           MunshiJi (Orchestrator)                  â”‚
â”‚                                                    â”‚
â”‚  "à¦†à¦®à¦¾à¦•à§‡ à¦¸à¦¬ à¦¦à¦¿à¦• à¦¥à§‡à¦•à§‡ à¦¸à¦¾à¦¹à¦¾à¦¯à§à¦¯ à¦•à¦°à¦¤à§‡ à¦ªà¦¾à¦°à¦¿"          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚            â”‚            â”‚
    â–¼            â–¼            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Tool 1  â”‚  â”‚ Tool 2  â”‚  â”‚ Tool 3  â”‚
â”‚ Product â”‚  â”‚Business â”‚  â”‚Customer â”‚
â”‚ Desc.   â”‚  â”‚Insights â”‚  â”‚Messages â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚            â”‚            â”‚
    â–¼            â–¼            â–¼
  Existing    Existing    Existing
  Function    Function    Function
    â”‚            â”‚            â”‚
    â–¼            â–¼            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Tool 4  â”‚  â”‚ Tool 5  â”‚  â”‚ Tool 6  â”‚
â”‚ Sales   â”‚  â”‚Inventoryâ”‚  â”‚ Order   â”‚
â”‚ Trend   â”‚  â”‚ Advice  â”‚  â”‚ Report  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚            â”‚            â”‚
    â–¼            â–¼            â–¼
  Existing    Existing    Existing
  Function    Function    Function
```

## Key Principle: Reuse, Don't Replace

```
BEFORE MUNSHIJI:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Tool 1  â”‚  â”‚  Tool 2  â”‚  â”‚  Tool 3  â”‚
â”‚ (Direct) â”‚  â”‚ (Direct) â”‚  â”‚ (Direct) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†‘             â†‘             â†‘
     â”‚             â”‚             â”‚
     User selects manually

AFTER MUNSHIJI:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           MunshiJi Layer            â”‚
â”‚    (Intelligent Orchestration)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚          â”‚
           â–¼          â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Tool 1  â”‚  â”‚  Tool 2  â”‚  â”‚  Tool 3  â”‚
    â”‚(REUSED)  â”‚  â”‚(REUSED)  â”‚  â”‚(REUSED)  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†‘             â†‘             â†‘
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         AI automatically selects

âœ“ Tools preserved
âœ“ Functions reused
âœ“ No breaking changes
âœ“ Enhanced user experience
```
